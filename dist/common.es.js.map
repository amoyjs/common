{"version":3,"file":"common.es.js","sources":["../lib/eventify.ts","../lib/extend.ts","../lib/usesify.ts","../lib/performance.ts","../lib/index.ts"],"sourcesContent":["export function eventify(target: any) {\n    target.callbacks = {}\n\n    target.on = (eventName: string, callback: () => void) => {\n        if (!eventName || !callback) return target\n        if (!target.hasOwnProperty(\"callbacks\")) target.callbacks || (target.callbacks = {})\n\n        let base: any\n        const events = eventName.split(\" \")\n        events.map((eventName) => {\n            (base = target.callbacks)[eventName] || (base[eventName] = [])\n            target.callbacks[eventName].push(callback)\n        })\n\n        return target\n    }\n\n    target.emit = (...args: any) => {\n        const eventName = args.shift() as string\n        const events = eventName.split(\" \")\n        events.map((eventName) => {\n            const list = target.callbacks !== null ? target.callbacks[eventName] || [] : []\n            if (list.length) {\n                list.map((item: () => void) => {\n                    item && item.apply(target, args)\n                })\n            }\n        })\n\n        return target\n    }\n\n    target.off = (...args: any) => {\n        if (args.length === 0) {\n            target.callbacks = {}\n        } else {\n            const eventName = args.shift() as string\n            const events = eventName.split(\" \")\n            events.map((eventName) => delete target.callbacks[eventName])\n        }\n\n        return target\n    }\n\n    return target\n}\n","function isPlainObject(object) {\n    // tslint:disable-next-line: one-variable-per-declaration\n    let proto,\n        ctor,\n        class2type = {},\n        toString = class2type.toString, // Object.prototype.toString\n        hasOwn = class2type.hasOwnProperty,\n        fnToString = hasOwn.toString, // Object.toString/Function.toString\n        ObjectFunctionString = fnToString.call(Object) // 'function Object() { [native code] }'\n\n    if (!object || toString.call(object) !== '[object Object]') {\n        return false\n    }\n\n    // According to the object created by `Object.create(null)` is no `prototype`\n    proto = Object.getPrototypeOf(object)\n    if (!proto) {\n        return true\n    }\n\n    ctor = hasOwn.call(proto, 'constructor') && proto.constructor\n    return typeof ctor === 'function' && fnToString.call(ctor) === ObjectFunctionString\n}\n\nexport function extend(this: any, ...args) {\n    let options\n    let name\n    let clone\n    let copy\n    let source\n    let copyIsArray\n    let target = arguments[0] || {}\n    let i = 1\n    let length = arguments.length\n    let deep = false\n\n    if (typeof target === 'boolean') {\n        deep = target\n        target = arguments[i] || {}\n        i++\n    }\n\n    if (typeof target !== 'object' && typeof target !== 'function') {\n        target = {}\n    }\n\n    if (i === length) {\n        target = this\n        i--\n    }\n\n    for (; i < length; i++) {\n        // tslint:disable-next-line: no-conditional-assignment\n        if ((options = arguments[i]) !== null) {\n            for (name in options) {\n                if (options.hasOwnProperty(name)) {\n                    source = target[name]\n                    copy = options[name]\n\n                    if (target === copy) {\n                        continue\n                    }\n\n                    // deep clone\n                    // tslint:disable-next-line: no-conditional-assignment\n                    if (deep && copy && (isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {\n                        if (copyIsArray) {\n                            copyIsArray = false\n                            clone = source && Array.isArray(source) ? source : []\n                        } else {\n                            clone = source && isPlainObject(source) ? source : {}\n                        }\n\n                        target[name] = extend(deep, clone, copy)\n                    } else if (copy !== undefined) {\n                        target[name] = copy\n                    }\n                }\n            }\n        }\n    }\n\n    return target\n}\n","type addon = (core: any) => void\n\nexport function usesify(addons: addon | addon[]) {\n    return function use(target) {\n        const _addons = Array.isArray(addons) ? addons : [addons]\n        _addons.map((addon) => {\n            if (typeof addon === \"function\") {\n                addon(target)\n            } else {\n                throw Error(`[@amoy/components]error: addon ${addons} must be a function;`)\n            }\n        })\n    }\n}\n","\nlet drawCalls: number\nlet fps: number\n\nfunction catchDraws(app: any) {\n    let i = 0\n    app.renderer.addListener('prerender', () => {\n        i = 0\n    })\n    app.renderer.addListener('postrender', () => {\n        drawCalls = i\n    })\n\n    const olGrawElements = app.renderer.gl.drawElements.bind(app.renderer.gl)\n    app.renderer.gl.drawElements = function(...args) {\n        i++\n        return olGrawElements(...args)\n    }\n}\n\nfunction catchFPS() {\n    let lastTime = performance.now()\n    let frame = 0\n    const loop = () => {\n        const now = performance.now()\n        frame++\n        if (now >= 1000 + lastTime) {\n            fps = Math.round((frame * 1000) / (now - lastTime))\n            frame = 0\n            lastTime = now\n        }\n        requestAnimationFrame(loop)\n    }\n    loop()\n}\n\nfunction createFPSAndDrawCallsPannel(showFps, showDrawCalls) {\n    const container = document.createElement('div')\n    container.id = 'stats'\n    container.style.cssText = `position:fixed;\n        left: 3rem;\n        pointer-events: none;\n        user-select: none;\n        z-index:10000;\n        color: #fff;\n        font-size: 3rem;\n        line-height: 3rem;`\n    container.innerHTML = `${showFps ? \"<p id='fps'>fps:</p>\" : ''}${showDrawCalls ? \"<p id='drawcalls'>drawCalls:</p>\" : ''}`\n    document.body.appendChild(container)\n    const statsContainer = document.querySelector('#stats')\n    const top = window.innerHeight - (statsContainer ? statsContainer.clientHeight : 0)\n    container.style.top = top - 10 + 'px'\n}\n\nfunction handlePannelPosition() {\n    const statsContainer = document.querySelector('#stats')\n    setTimeout(function() {\n        const container = document.getElementById('stats')\n        if (container) {\n            container.style.top =\n                window.innerHeight - (statsContainer ? statsContainer.clientHeight : 0) - 10 + 'px'\n        }\n    }, 100)\n}\n\nexport function showPerformancePannel(app: any, enables: string[] = [\"fps\", \"draw-calls\"]) {\n    const showFps = enables.includes(\"fps\");\n    const showDrawCalls = enables.includes(\"draw-calls\");\n    showDrawCalls && catchDraws(app);\n    showFps && catchFPS();\n    createFPSAndDrawCallsPannel(showFps, showDrawCalls);\n\n    const drawCallContainer = document.querySelector('#drawcalls')\n    const fpsContainer = document.querySelector('#fps')\n\n    setInterval(() => {\n        drawCalls && drawCallContainer && (drawCallContainer.innerHTML = `drawCalls: ${drawCalls}`)\n        fps && fpsContainer && (fpsContainer.innerHTML = `fps: ${fps}`)\n    }, 200)\n\n    window.addEventListener('resize', function() {\n        handlePannelPosition()\n    })\n}\n","export * from \"./eventify\"\nexport * from \"./extend\"\nexport * from \"./usesify\"\nexport * from './performance'\n\nexport function type(object: any) {\n    const class2type = {}\n    const type = class2type.toString.call(object)\n    const typeString = 'Boolean Number String Function Array Date RegExp Object Error Symbol'\n\n    if (object == null) return object + ''\n\n    typeString.split(' ').forEach((type) => {\n        class2type[`[object ${type}]`] = type.toLowerCase()\n    })\n\n    const isObject = typeof object === 'object'\n    const isFn = typeof object === 'function'\n    return isObject || isFn ? class2type[type] || 'object' : typeof object\n}\n\nexport function forin(object: object, fn: (key?: string, value?: any) => void) {\n    if (typeof object === 'object') {\n        for (const key in object) {\n            if (object.hasOwnProperty(key)) {\n                const value = object[key]\n                fn(key, value)\n            }\n        }\n    }\n}\n\nexport const getValue = (root: any, get: string) => {\n    if (type(root) !== 'object') return root\n    let value = root\n    const keyArr = get.split('.')\n    for (let i = 0, l = keyArr.length; i < l; i++) {\n        const v = keyArr[i]\n        if (v) {\n            if (value[v]) {\n                value = value[v]\n            } else {\n                value = undefined\n                break\n            }\n        }\n    }\n    return value\n}\n\nexport const setValue = (tar: any, key: string, value: any) => {\n    if (type(tar) !== 'object') {\n        throw new Error('setValue tar muse be a object!')\n    } else {\n        const pIndex = key.trim().indexOf('.')\n        if (pIndex > 0 && pIndex < key.length - 1) {\n            const keyArr = key.trim().split('.')\n            let _obj = tar\n            let wrongKey = ''\n            for (let i = 0, l = keyArr.length - 1; i < l; i++) {\n                const v = keyArr[i]\n                if (typeof _obj[v] === 'object') {\n                    _obj = _obj[v]\n                } else if (typeof _obj[v] === 'undefined') {\n                    wrongKey = v\n                }\n            }\n\n            if (!wrongKey) {\n                const lastKey = keyArr[keyArr.length - 1]\n                _obj[lastKey] = value\n            } else {\n                throw new Error(`the key(${wrongKey}) is not in tar obj!`)\n            }\n        } else {\n            tar[key.replace(/\\./g, '')] = value\n        }\n    }\n}\n"],"names":[],"mappings":"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"}